<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Integrated Clustering Hazelcast Documentation</title>
    <link rel="canonical" href="https://jakescahill.github.io/docs-poc/hazelcast/4.1/deploy/integrated_clustering.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/search.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-M267KFN"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','GTM-M267KFN')</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://jakescahill.github.io/docs-poc">Hazelcast Documentation</a>
          <div class="navbar-item">
            <input id="search-input" type="text" placeholder="Search docs">
          </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Hazelcast Cloud</a>
            <a class="navbar-item" href="https://jakescahill.github.io/docs-poc/hazelcast/4.1/index.html">Hazelcast IMDG</a>
            <a class="navbar-item" href="#">Hazelcast Jet</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Learn</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://jakescahill.github.io/docs-poc/home/index.html">Docs</a>
            <a class="navbar-item" href="https://training.hazelcast.com/">Online Training</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Demos</a>
            <a class="navbar-item" href="#">Community</a>
            <a class="navbar-item" href="#">Blog</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Get Hazelcast</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="hazelcast" data-version="4.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../hazelcast_overview.html">Hazelcast IMDG</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../hazelcast_overview.html">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../get-started/getting_started.html">Get Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../get-started/glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../develop/hazelcast_clients.html">Develop Solutions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/jcache.html">JCache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/performance.html">Performance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/serialization.html">Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/striim_cdc.html">Striim Hot Cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/transactions.html">Transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/distributed_query.html">Distributed Query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/distributed_sql.html">Distributed SQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/distributed_events.html">Distributed Events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../develop/distributed_computing.html">Distributed Computing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="installing_upgrading.html">Deploy Clusters</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="starting_members_clients.html">Starting Members and Clients</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="setting_up_clusters.html">Setting Up Clusters</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="management.html">Management</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="simulator.html">Hazelcast Simulator</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="wan.html">WAN Replication</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="network_partitioning.html">Network Partitioning</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../migrate/migration_guides.html">Migrate</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../troubleshoot/common_exception_types.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../reference/faq.html">Reference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/dds.html">Distributed data structures</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/system_properties.html">System properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/understanding_configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/phone_homes.html">Phone homes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/hazelcast_plugins.html">Plugins</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../contribute/extending_hazelcast.html">Contribute</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../contribute/licenses.html">Licenses</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../contribute/revision_history.html">Documentation changes</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Hazelcast IMDG</span>
    <span class="version">4.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Hazelcast IMDG</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../hazelcast_overview.html">4.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Home</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../home/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../hazelcast_overview.html">Hazelcast IMDG</a></li>
    <li><a href="integrated_clustering.html">Integrated Clustering</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a class="git" href="https://github.com/JakeSCahill/docs-poc/edit/develop/hazelcast-docs/modules/deploy/pages/integrated_clustering.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Integrated Clustering</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter, we mention how Hazelcast is integrated with Hibernate
2nd level cache and Spring and how it helps with your Filter, Tomcat
and Jetty based web session replications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integration_with_hibernate_second_level_cache"><a class="anchor" href="#_integration_with_hibernate_second_level_cache"></a>Integration with Hibernate Second Level Cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hazelcast provides its own distributed second level cache for your
Hibernate entities, collections and queries. This feature is offered
as a Hazelcast plugin. See <a href="#hazelcast-hibernate-2lc">Hazelcast Hibernate 2LC</a> for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_web_session_replications"><a class="anchor" href="#_web_session_replications"></a>Web Session Replications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hazelcast can cluster your web sessions using Servlet Filter,
Tomcat and Jetty based solutions.</p>
</div>
<div class="paragraph">
<p>See the following for more information on them:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#filter-based-web-session-replication">Filter Based Web Session Replication</a></p>
</li>
<li>
<p><a href="#tomcat-based-web-session-replication">Tomcat Based Web Session Replication</a></p>
</li>
<li>
<p><a href="#jetty-based-web-session-replication">Jetty Based Web Session Replication</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integration_with_java_ee"><a class="anchor" href="#_integration_with_java_ee"></a>Integration with Java EE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can integrate Hazelcast into Java EE containers.
This integration is offered as a Hazelcast plugin. See the
<a href="#hazelcast-jca-resource-adapter">Hazelcast JCA Resource Adapter section</a>
and its own GitHub repository <a href="https://github.com/hazelcast/hazelcast-ra" target="_blank" rel="noopener">here</a>
for information on configuring the resource adapter, Glassfish applications
and JBoss web applications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integration_with_spring"><a class="anchor" href="#_integration_with_spring"></a>Integration with Spring</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can integrate Hazelcast with Spring and this section explains the
configuration of Hazelcast within Spring context.</p>
</div>
<div class="paragraph">
<p>Supported Versions are Spring 2.5 and higher releases and the latest
tested Spring version is 4.3.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Some old versions of Spring may require minor changes in
the Hazelcast configuration. The code and configuration snippets provided
in this section are tested using Spring 4.3.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_configuring_spring"><a class="anchor" href="#_configuring_spring"></a>Configuring Spring</h3>
<div class="paragraph">
<p><strong>Code Sample</strong>: See our <a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/spring-configuration" target="_blank" rel="noopener">sample application</a>
for Spring Configuration.</p>
</div>
<div class="sect3">
<h4 id="_enabling_spring_integration"><a class="anchor" href="#_enabling_spring_integration"></a>Enabling Spring Integration</h4>
<div class="paragraph">
<p><em>Classpath Configuration:</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To enable Spring integration, either <code>hazelcast-spring-4.1.jar</code>
or <code>hazelcast-all-4.1.jar</code> must be in the classpath.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you use Maven, add the following lines to your <code>pom.xml</code>.</p>
</div>
<div class="paragraph">
<p>If you use <code>hazelcast-all.jar</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;
    &lt;artifactId&gt;hazelcast-all&lt;/artifactId&gt;
    &lt;version&gt;4.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you use <code>hazelcast-spring.jar</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;
    &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;
    &lt;version&gt;4.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you use other build systems, you have to adjust the definition of
dependencies to your needs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_troubleshooting"><a class="anchor" href="#_troubleshooting"></a>Troubleshooting</h4>
<div class="paragraph">
<p>When the Spring Integration JARs are not correctly installed in the
Java classpath, you may see either of the following exceptions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>org.xml.sax.SAXParseException; systemId: http://hazelcast.com/schema/spring/hazelcast-spring.xsd; lineNumber: 2; columnNumber: 35; s4s-elt-character: Non-whitespace characters are not allowed in schema elements other than 'xs:appinfo' and 'xs:documentation'. Saw '301 Moved Permanently'.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.hazelcast.com/schema/spring]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>org.xml.sax.SAXParseException; lineNumber: 25; columnNumber: 33; schema_reference.4: Failed to read schema document 'http://www.hazelcast.com/schema/spring/hazelcast-spring.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, please ensure that the required classes are in the classpath,
as explained above.</p>
</div>
</div>
<div class="sect3">
<h4 id="_declaring_beans_by_spring_beans_namespace"><a class="anchor" href="#_declaring_beans_by_spring_beans_namespace"></a>Declaring Beans by Spring <strong>beans</strong> Namespace</h4>
<div class="paragraph">
<p><em>Bean Declaration:</em></p>
</div>
<div class="paragraph">
<p>You can declare Hazelcast Objects using the default Spring <strong>beans</strong> namespace.
Example code for a Hazelcast Instance declaration is listed below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="instance" class="com.hazelcast.core.Hazelcast" factory-method="newHazelcastInstance"&gt;
    &lt;constructor-arg&gt;
        &lt;bean class="com.hazelcast.config.Config"&gt;
            &lt;property name="clusterName" value="dev"/&gt;
            &lt;!-- and so on ... --&gt;
        &lt;/bean&gt;
    &lt;/constructor-arg&gt;
&lt;/bean&gt;

&lt;bean id="map" factory-bean="instance" factory-method="getMap"&gt;
    &lt;constructor-arg value="map"/&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_declaring_beans_by_hazelcast_namespace"><a class="anchor" href="#_declaring_beans_by_hazelcast_namespace"></a>Declaring Beans by <strong>hazelcast</strong> Namespace</h4>
<div class="paragraph">
<p>Hazelcast has its own namespace <strong>hazelcast</strong> for bean definitions.
You can easily add the namespace declaration <strong>xmlns:hz="http://www.hazelcast.com/schema/spring"</strong>
to the <code>beans</code> element in the context file so that <strong>hz</strong> namespace shortcut can be
used as a bean declaration.</p>
</div>
<div class="paragraph">
<p>Here is an example schema definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:hz="http://www.hazelcast.com/schema/spring"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
                http://www.hazelcast.com/schema/spring
                http://www.hazelcast.com/schema/spring/hazelcast-spring.xsd"&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_configurations_with_hazelcast_namespace"><a class="anchor" href="#_supported_configurations_with_hazelcast_namespace"></a>Supported Configurations with <strong>hazelcast</strong> Namespace</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Configuring Hazelcast Instance</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:hazelcast id="instance"&gt;
    &lt;hz:config&gt;
        &lt;hz:cluster-name name="dev"/&gt;
        &lt;hz:network port="5701" port-auto-increment="false"&gt;
            &lt;hz:join&gt;
                &lt;hz:multicast enabled="false"
                    multicast-group="224.2.2.3"
                    multicast-port="54327"/&gt;
                &lt;hz:tcp-ip enabled="true"&gt;
                    &lt;hz:members&gt;10.10.1.2, 10.10.1.3&lt;/hz:members&gt;
                &lt;/hz:tcp-ip&gt;
            &lt;/hz:join&gt;
        &lt;/hz:network&gt;
        &lt;hz:map name="map"
            backup-count="2"
            read-backup-data="true"
            merge-policy="com.hazelcast.spi.merge.PassThroughMergePolicy"&gt;
            &lt;hz:eviction eviction-policy="NONE" size="0"/&gt;
        &lt;/hz:map&gt;
    &lt;/hz:config&gt;
&lt;/hz:hazelcast&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Configuring Hazelcast Client</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:client id="client"&gt;
    &lt;hz:cluster-name name="${cluster.name}"/&gt;
    &lt;hz:network connection-timeout="1000"
                redo-operation="true"
                smart-routing="true"&gt;
        &lt;hz:member&gt;10.10.1.2:5701&lt;/hz:member&gt;
        &lt;hz:member&gt;10.10.1.3:5701&lt;/hz:member&gt;
    &lt;/hz:network&gt;
&lt;/hz:client&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Hazelcast Supported Type Configurations and Examples</strong></p>
<div class="ulist">
<ul>
<li>
<p><code>map</code></p>
</li>
<li>
<p><code>multiMap</code></p>
</li>
<li>
<p><code>replicatedmap</code></p>
</li>
<li>
<p><code>queue</code></p>
</li>
<li>
<p><code>topic</code></p>
</li>
<li>
<p><code>reliableTopic</code></p>
</li>
<li>
<p><code>set</code></p>
</li>
<li>
<p><code>list</code></p>
</li>
<li>
<p><code>executorService</code></p>
</li>
<li>
<p><code>durableExecutorService</code></p>
</li>
<li>
<p><code>scheduledExecutorService</code></p>
</li>
<li>
<p><code>ringbuffer</code></p>
</li>
<li>
<p><code>cardinalityEstimator</code></p>
</li>
<li>
<p><code>idGenerator</code></p>
</li>
<li>
<p><code>flakeIdGenerator</code></p>
</li>
<li>
<p><code>atomicLong</code></p>
</li>
<li>
<p><code>atomicReference</code></p>
</li>
<li>
<p><code>semaphore</code></p>
</li>
<li>
<p><code>countDownLatch</code></p>
</li>
<li>
<p><code>lock</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:map id="map" instance-ref="client" name="map" lazy-init="true" /&gt;
&lt;hz:multiMap id="multiMap" instance-ref="instance" name="multiMap"
    lazy-init="false" /&gt;
&lt;hz:replicatedMap id="replicatedmap" instance-ref="instance"
    name="replicatedmap" lazy-init="false" /&gt;
&lt;hz:queue id="queue" instance-ref="client" name="queue"
    lazy-init="true" depends-on="instance"/&gt;
&lt;hz:topic id="topic" instance-ref="instance" name="topic"
    depends-on="instance, client"/&gt;
&lt;hz:reliableTopic id="reliableTopic" instance-ref="instance" name="reliableTopic"/&gt;
&lt;hz:set id="set" instance-ref="instance" name="set" /&gt;
&lt;hz:list id="list" instance-ref="instance" name="list"/&gt;
&lt;hz:executorService id="executorService" instance-ref="client"
    name="executorService"/&gt;
&lt;hz:durableExecutorService id="durableExec" instance-ref="instance" name="durableExec"/&gt;
&lt;hz:scheduledExecutorService id="scheduledExec" instance-ref="instance" name="scheduledExec"/&gt;
&lt;hz:ringbuffer id="ringbuffer" instance-ref="instance" name="ringbuffer"/&gt;
&lt;hz:cardinalityEstimator id="cardinalityEstimator" instance-ref="instance" name="cardinalityEstimator"/&gt;
&lt;hz:idGenerator id="idGenerator" instance-ref="instance"
    name="idGenerator"/&gt;
&lt;hz:flakeIdGenerator id="flakeIdGenerator" instance-ref="instance"
    name="flakeIdGenerator"/&gt;
&lt;hz:atomicLong id="atomicLong" instance-ref="instance" name="atomicLong"/&gt;
&lt;hz:atomicReference id="atomicReference" instance-ref="instance"
    name="atomicReference"/&gt;
&lt;hz:semaphore id="semaphore" instance-ref="instance" name="semaphore"/&gt;
&lt;hz:countDownLatch id="countDownLatch" instance-ref="instance"
    name="countDownLatch"/&gt;
&lt;hz:lock id="lock" instance-ref="instance" name="lock"/&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Supported Spring Bean Attributes</strong></p>
<div class="paragraph">
<p>Hazelcast also supports <code>lazy-init</code>, <code>scope</code> and <code>depends-on</code> bean attributes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:hazelcast id="instance" lazy-init="true" scope="singleton"&gt;
    ...
&lt;/hz:hazelcast&gt;
&lt;hz:client id="client" scope="prototype" depends-on="instance"&gt;
    ...
&lt;/hz:client&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Configuring MapStore and NearCache</strong></p>
<div class="paragraph">
<p>For map-store, you should set either the <strong>class-name</strong> or the <strong>implementation</strong> attribute.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:config id="config"&gt;
    &lt;hz:map name="map1"&gt;
        &lt;hz:map-store enabled="true" class-name="com.foo.DummyStore"
            write-delay-seconds="0" /&gt;

        &lt;hz:near-cache time-to-live-seconds="0"
            max-idle-seconds="60" invalidate-on-change="true" &gt;
            &lt;hz:eviction eviction-policy="LRU" size="5000"/&gt;
        &lt;/hz:near-cache&gt;
    &lt;/hz:map&gt;

    &lt;hz:map name="map2"&gt;
        &lt;hz:map-store enabled="true" implementation="dummyMapStore"
            write-delay-seconds="0" /&gt;
    &lt;/hz:map&gt;
&lt;/hz:config&gt;

&lt;bean id="dummyMapStore" class="com.foo.DummyStore" /&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enabling_springaware_objects"><a class="anchor" href="#_enabling_springaware_objects"></a>Enabling SpringAware Objects</h3>
<div class="paragraph">
<p>You can mark Hazelcast Distributed Objects with @SpringAware if the object wants to apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>bean properties</p>
</li>
<li>
<p>factory callbacks such as <code>ApplicationContextAware</code>, <code>BeanNameAware</code></p>
</li>
<li>
<p>bean post-processing annotations such as <code>InitializingBean</code>, <code>@PostConstruct</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hazelcast Distributed <code>ExecutorService</code>, or more generally any
Hazelcast managed object, can benefit from these features. To enable
SpringAware objects, you must first configure <code>HazelcastInstance</code> using
<strong>hazelcast</strong> namespace as explained in <a href="#configuring-spring">Configuring Spring</a>
and add <code>&lt;hz:spring-aware /&gt;</code> tag.</p>
</div>
<div class="sect3">
<h4 id="_springaware_examples"><a class="anchor" href="#_springaware_examples"></a>SpringAware Examples</h4>
<div class="ulist">
<ul>
<li>
<p>Configure a Hazelcast Instance via Spring Configuration and define <strong>someBean</strong> as Spring Bean.</p>
</li>
<li>
<p>Add <code>&lt;hz:spring-aware /&gt;</code> to Hazelcast configuration to enable @SpringAware.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:hz="http://www.hazelcast.com/schema/spring"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                http://www.springframework.org/schema/context
                http://www.springframework.org/schema/context/spring-context-3.0.xsd
                http://www.hazelcast.com/schema/spring
                http://www.hazelcast.com/schema/spring/hazelcast-spring.xsd"&gt;

    &lt;context:component-scan base-package="..."/&gt;

    &lt;hz:hazelcast id="instance"&gt;
        &lt;hz:config&gt;
            &lt;hz:spring-aware /&gt;
            &lt;hz:cluster-name name="dev"/&gt;
            &lt;hz:network port="5701" port-auto-increment="false"&gt;
                &lt;hz:join&gt;
                    &lt;hz:multicast enabled="false" /&gt;
                    &lt;hz:tcp-ip enabled="true"&gt;
                        &lt;hz:members&gt;10.10.1.2, 10.10.1.3&lt;/hz:members&gt;
                    &lt;/hz:tcp-ip&gt;
                &lt;/hz:join&gt;
            &lt;/hz:network&gt;
            ...
        &lt;/hz:config&gt;
    &lt;/hz:hazelcast&gt;

    &lt;bean id="someBean" class="com.hazelcast.examples.spring.SomeBean"
      scope="singleton" /&gt;
    ...
&lt;/beans&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Distributed Map SpringAware Example:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a class called <code>SomeValue</code> which contains Spring Bean definitions
like <code>ApplicationContext</code> and <code>SomeBean</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@SpringAware
@Component("someValue")
@Scope("prototype")
public class SomeValue implements Serializable, ApplicationContextAware {

    private transient ApplicationContext context;
    private transient SomeBean someBean;
    private transient boolean init = false;

    public void setApplicationContext( ApplicationContext applicationContext )
        throws BeansException {
        context = applicationContext;
    }

    @Autowired
    public void setSomeBean( SomeBean someBean)  {
        this.someBean = someBean;
    }

    @PostConstruct
    public void init() {
        someBean.doSomethingUseful();
        init = true;
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Get <code>SomeValue</code> Object from Context and put it into Hazelcast Distributed Map
on the first member.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">HazelcastInstance hazelcastInstance =
    (HazelcastInstance) context.getBean( "instance" );
SomeValue value = (SomeValue) context.getBean( "someValue" );
IMap&lt;String, SomeValue&gt; map = hazelcastInstance.getMap( "values" );
map.put( "key", value );</code></pre>
</div>
</div>
</li>
<li>
<p>Read <code>SomeValue</code> Object from Hazelcast Distributed Map and assert
that <code>init</code> method is called since it is annotated with <code>@PostConstruct</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">HazelcastInstance hazelcastInstance =
    (HazelcastInstance) context.getBean( "instance" );
IMap&lt;String, SomeValue&gt; map = hazelcastInstance.getMap( "values" );
SomeValue value = map.get( "key" );
Assert.assertTrue( value.init );</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>ExecutorService SpringAware Example:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a Callable Class called SomeTask which contains
Spring Bean definitions like <code>ApplicationContext</code>, <code>SomeBean</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@SpringAware
public class SomeTask
    implements Callable&lt;Long&gt;, ApplicationContextAware, Serializable {

    private transient ApplicationContext context;
    private transient SomeBean someBean;

    public Long call() throws Exception {
        return someBean.value;
    }

    public void setApplicationContext( ApplicationContext applicationContext )
        throws BeansException {
        context = applicationContext;
    }

    @Autowired
    public void setSomeBean( SomeBean someBean ) {
        this.someBean = someBean;
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Submit <code>SomeTask</code> to two Hazelcast Members and assert that <code>someBean</code> is autowired.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">HazelcastInstance hazelcastInstance =
    (HazelcastInstance) context.getBean( "instance" );
SomeBean bean = (SomeBean) context.getBean( "someBean" );

Future&lt;Long&gt; f = hazelcastInstance.getExecutorService("executorService")
    .submit(new SomeTask());
Assert.assertEquals(bean.value, f.get().longValue());

// choose a member
Member member = hazelcastInstance.getCluster().getMembers().iterator().next();

Future&lt;Long&gt; f2 = (Future&lt;Long&gt;) hazelcast.getExecutorService("executorService")
    .submitToMember(new SomeTask(), member);
Assert.assertEquals(bean.value, f2.get().longValue());</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Spring managed properties/fields are marked as <code>transient</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_caching_to_spring"><a class="anchor" href="#_adding_caching_to_spring"></a>Adding Caching to Spring</h3>
<div class="paragraph">
<p><strong>Code Sample</strong>: See the sample application for
<a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/spring-cache-manager" target="_blank" rel="noopener">Spring Cache</a>.</p>
</div>
<div class="paragraph">
<p>As of version 3.1, Spring Framework provides support for adding caching
into an existing Spring application. Spring 3.2 and later versions support
JCache compliant caching providers. You can also use JCache caching
backed by Hazelcast if your Spring version supports JCache.</p>
</div>
<div class="sect3">
<h4 id="_declarative_spring_cache_configuration"><a class="anchor" href="#_declarative_spring_cache_configuration"></a>Declarative Spring Cache Configuration</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;cache:annotation-driven cache-manager="cacheManager" /&gt;

&lt;hz:hazelcast id="instance"&gt;
    ...
&lt;/hz:hazelcast&gt;

&lt;bean id="cacheManager" class="com.hazelcast.spring.cache.HazelcastCacheManager"&gt;
    &lt;constructor-arg ref="instance"/&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hazelcast uses its Map implementation for underlying cache.
You can configure a map with your cache&#8217;s name if you want to set
additional configuration such as <code>ttl</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;cache:annotation-driven cache-manager="cacheManager" /&gt;

&lt;hz:hazelcast id="instance"&gt;
    &lt;hz:config&gt;
        ...

        &lt;hz:map name="city" time-to-live-seconds="0" in-memory-format="BINARY" /&gt;
    &lt;/hz:config&gt;
&lt;/hz:hazelcast&gt;

&lt;bean id="cacheManager" class="com.hazelcast.spring.cache.HazelcastCacheManager"&gt;
    &lt;constructor-arg ref="instance"/&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface IDummyBean {
    @Cacheable("city")
    String getCity();
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_defining_timeouts_for_cache_read_operation"><a class="anchor" href="#_defining_timeouts_for_cache_read_operation"></a>Defining Timeouts for Cache Read Operation</h4>
<div class="paragraph">
<p>You can define a timeout value for the get operations from your Spring cache.
This may be useful for some cases, such as SLA requirements. Hazelcast
provides a property to specify this timeout: <code>hazelcast.spring.cache.prop</code>.
This can be specified as a Java property (using <code>-D</code>) or you can add this
property to your Spring properties file (usually named as <code>application.properties</code>).</p>
</div>
<div class="paragraph">
<p>An example usage is given below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>hazelcast.spring.cache.prop=defaultReadTimeout=2,cache1=10,cache2=20</code></pre>
</div>
</div>
<div class="paragraph">
<p>The argument <code>defaultReadTimeout</code> applies to all of your Spring caches.
If you want to define different timeout values for some specific Spring
caches, you can provide them as a comma separated list as shown in the
above example usage. The values are in milliseconds. If you want to have
no timeout for a cache, simply set it to <code>0</code> or a negative value.</p>
</div>
</div>
<div class="sect3">
<h4 id="_declarative_hazelcast_jcache_based_caching_configuration"><a class="anchor" href="#_declarative_hazelcast_jcache_based_caching_configuration"></a>Declarative Hazelcast JCache Based Caching Configuration</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;cache:annotation-driven cache-manager="cacheManager" /&gt;

&lt;hz:hazelcast id="instance"&gt;
    ...
&lt;/hz:hazelcast&gt;

&lt;hz:cache-manager id="hazelcastJCacheCacheManager" instance-ref="instance" name="hazelcastJCacheCacheManager"/&gt;

&lt;bean id="cacheManager" class="org.springframework.cache.jcache.JCacheCacheManager"&gt;
    &lt;constructor-arg ref="hazelcastJCacheCacheManager" /&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use JCache implementation in both member and client mode.
A cache manager should be bound to an instance. Instance can be referenced
by <code>instance-ref</code> attribute or provided by <code>hazelcast.instance.name</code>
property which is passed to CacheManager. Instance should be specified
using one of these methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Instance name provided in properties overrides <code>instance-ref</code> attribute.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can specify an URI for each cache manager with <code>uri</code> attribute.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:cache-manager id="cacheManager2" name="cacheManager2" uri="testURI"&gt;
    &lt;hz:properties&gt;
        &lt;hz:property name="hazelcast.instance.name"&gt;named-spring-hz-instance&lt;/hz:property&gt;
        &lt;hz:property name="testProperty"&gt;testValue&lt;/hz:property&gt;
    &lt;/hz:properties&gt;
&lt;/hz:cache-manager&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_annotation_based_spring_cache_configuration"><a class="anchor" href="#_annotation_based_spring_cache_configuration"></a>Annotation-Based Spring Cache Configuration</h4>
<div class="paragraph">
<p>Annotation-Based Configuration does not require any XML definition.
To perform Annotation-Based Configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implement a <code>CachingConfiguration</code> class with related Annotations.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
@EnableCaching
public class CachingConfiguration extends CachingConfigurerSupport {
    @Bean
    public CacheManager cacheManager() {
        ClientConfig config = new ClientConfig();
        HazelcastInstance client = HazelcastClient.newHazelcastClient(config);
        return new com.hazelcast.spring.cache.HazelcastCacheManager(client);
    }
    @Bean
    public KeyGenerator keyGenerator() {
        return null;
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Launch Application Context and register <code>CachingConfiguration</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();
context.register(CachingConfiguration.class);
context.refresh();</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about Spring Cache, see
<a href="http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html" target="_blank" rel="noopener">Spring Cache Abstraction</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_hibernate_second_level_cache"><a class="anchor" href="#_configuring_hibernate_second_level_cache"></a>Configuring Hibernate Second Level Cache</h3>
<div class="paragraph">
<p><strong>Code Sample</strong>: See the <a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/spring-hibernate-2ndlevel-cache" target="_blank" rel="noopener">sample application</a>
for Hibernate 2nd Level Cache configuration.</p>
</div>
<div class="paragraph">
<p>If you are using Hibernate with Hazelcast as a second level cache provider, you can easily configure your
<code>LocalSessionFactoryBean</code> to use a Hazelcast instance by passing Hazelcast instance name. That way, you can use the
same <code>HazelcastInstance</code> as Hibernate L2 cache instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">...
&lt;bean id="sessionFactory"
      class="org.springframework.orm.hibernate3.LocalSessionFactoryBean"
	  scope="singleton"&gt;
    &lt;property name="dataSource" ref="dataSource"/&gt;
    &lt;property name="hibernateProperties"&gt;
        &lt;props&gt;
            ...
            &lt;prop key="hibernate.cache.region.factory_class"&gt;com.hazelcast.hibernate.HazelcastLocalCacheRegionFactory&lt;/prop&gt;
            &lt;prop key="hibernate.cache.hazelcast.instance_name"&gt;${hz.instance.name}&lt;/prop&gt;
        &lt;/props&gt;
    &lt;/property&gt;
    ...
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Hibernate RegionFactory Classes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>com.hazelcast.hibernate.HazelcastLocalCacheRegionFactory</code></p>
</li>
<li>
<p><code>com.hazelcast.hibernate.HazelcastCacheRegionFactory</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/hazelcast/hazelcast-hibernate#configuring-regionfactory" target="_blank" rel="noopener">Configuring RegionFactory section</a>
in the Hazelcast Hibernate GitHub repository for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_hazelcast_transaction_manager"><a class="anchor" href="#_configuring_hazelcast_transaction_manager"></a>Configuring Hazelcast Transaction Manager</h3>
<div class="paragraph">
<p><strong>Code Sample</strong>: See the <a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/spring-transaction-manager" target="_blank" rel="noopener">sample application</a>
for Hazelcast Transaction Manager in our code samples repository.</p>
</div>
<div class="paragraph">
<p>You can get rid of the boilerplate code to begin, commit or rollback
transactions by using <a href="https://docs.hazelcast.org/docs/4.1/javadoc/com/hazelcast/spring/transaction/HazelcastTransactionManager.html" target="_blank" rel="noopener">HazelcastTransactionManager</a>
which is a <code>PlatformTransactionManager</code> implementation to be used
with Spring Transaction API.</p>
</div>
<div class="sect3">
<h4 id="_example_configuration_for_hazelcast_transaction_manager"><a class="anchor" href="#_example_configuration_for_hazelcast_transaction_manager"></a>Example Configuration for Hazelcast Transaction Manager</h4>
<div class="paragraph">
<p>You need to register <code>HazelcastTransactionManager</code> as your
transaction manager implementation and also you need to
register <a href="https://docs.hazelcast.org/docs/4.1/javadoc/com/hazelcast/spring/transaction/ManagedTransactionalTaskContext.html" target="_blank" rel="noopener">ManagedTransactionalTaskContext</a>
to access transactional data structures within your service class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">...
&lt;hz:hazelcast id="instance"&gt;
    ...
&lt;/hz:hazelcast&gt;
...
&lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;
&lt;bean id="transactionManager" class="com.hazelcast.spring.transaction.HazelcastTransactionManager"&gt;
    &lt;constructor-arg ref="instance"/&gt;
&lt;/bean&gt;
&lt;bean id="transactionalContext" class="com.hazelcast.spring.transaction.ManagedTransactionalTaskContext"&gt;
    &lt;constructor-arg ref="transactionManager"/&gt;
&lt;/bean&gt;
&lt;bean id="YOUR_SERVICE" class="YOUR_SERVICE_CLASS"&gt;
    &lt;property name="transactionalTaskContext" ref="transactionalContext"/&gt;
&lt;/bean&gt;
...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_transactional_method"><a class="anchor" href="#_example_transactional_method"></a>Example Transactional Method</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ServiceWithTransactionalMethod {

    private TransactionalTaskContext transactionalTaskContext;

    @Transactional
    public void transactionalPut(String key, String value) {
        transactionalTaskContext.getMap("testMap").put(key, value);
    }

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After marking your method as <code>Transactional</code> either declaratively
or by annotation and accessing the data structure
through the <code>TransactionalTaskContext</code>, <code>HazelcastTransactionManager</code>
begins, commits or rollbacks the transaction for you.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_best_practices"><a class="anchor" href="#_best_practices"></a>Best Practices</h3>
<div class="paragraph">
<p>Spring tries to create a new <code>Map</code>/<code>Collection</code> instance and fill
the new instance by iterating and converting values of the original
<code>Map</code>/<code>Collection</code> (<code>IMap</code>, <code>IQueue</code>, etc.) to required types when generic
type parameters of the original <code>Map</code>/<code>Collection</code> and the target property/attribute do not match.</p>
</div>
<div class="paragraph">
<p>Since Hazelcast <code>Map</code>s/<code>Collection</code>s are designed to hold very large
data which a single machine cannot carry, iterating through whole values can cause out of memory errors.</p>
</div>
<div class="paragraph">
<p>To avoid this issue, the target property/attribute can be declared as
un-typed <code>Map</code>/<code>Collection</code> as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class SomeBean {
    @Autowired
    IMap map; // instead of IMap&lt;K, V&gt; map

    @Autowired
    IQueue queue; // instead of IQueue&lt;E&gt; queue
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, parameters of injection methods (constructor, setter) can be un-typed as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class SomeBean {

    IMap&lt;K, V&gt; map;
    IQueue&lt;E&gt; queue;

    // Instead of IMap&lt;K, V&gt; map
    public SomeBean(IMap map) {
        this.map = map;
    }

    ...

    // Instead of IQueue&lt;E&gt; queue
    public void setQueue(IQueue queue) {
        this.queue = queue;
    }
    ...
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="https://jira.springsource.org/browse/SPR-3407" target="_blank" rel="noopener">Spring issue-3407</a> for more information.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<link rel="shortcut icon" href="http://hazelcast.com/images/favicon.png">
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/vendor/search.js" id="search-script" data-base-path="../../.." data-page-path="/hazelcast/4.1/deploy/integrated_clustering.html"></script>
<script async src="../../../_/../search-index.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
